<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>banasaba server</title>
  <style>
    body { margin:0; padding:0; font-family:Arial,sans-serif; color:white; overflow-x:hidden; }
    @keyframes fadeIn {0%{opacity:0; transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}}
    .fade{animation:fadeIn 1s ease-out;}
    .navbar{width:100%;padding:15px 25px;display:flex;justify-content:space-between;align-items:center;background:rgba(0,0,0,0.6);position:fixed;top:0;left:0;z-index:10;}
    .nav-left{display:flex;align-items:center;gap:15px;}
    .nav-title{font-size:25px;font-weight:bold;}
    .discord-btn{padding:8px 15px;background:#5865F2;border-radius:8px;color:white;font-size:16px;text-decoration:none;font-weight:bold;}
    .discord-btn:hover{background:#6d76ff;}
    .nav-links a{margin-left:20px;color:white;text-decoration:none;font-size:18px;}
    .section{height:100vh;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center;flex-direction:column;text-shadow:0 0 5px black;position:relative;}
    .section1{background-image:url("https://raw.githubusercontent.com/bananeko345/bananeko-offcial/refs/heads/main/20251211-1825_351cdaa0c682ed5b47b5ee0c7d1a8be1.png");}
    .section2{background-image:url("https://raw.githubusercontent.com/bananeko345/bananeko-offcial/refs/heads/main/2025-12-11_191139.png");}
    .section3{background-image:url("https://raw.githubusercontent.com/bananeko345/bananeko-offcial/refs/heads/main/2025-12-11_190934.png");}
    .rule-btn{margin-top:20px;padding:12px 25px;background:orange;border:none;border-radius:10px;font-size:20px;cursor:pointer;}
    .rule-btn:hover{background:#ffca4b;}
    #server-info{position:absolute;bottom:20px;left:20px;background:rgba(0,0,0,0.6);padding:10px 15px;border-radius:8px;font-size:18px;font-weight:bold;white-space:pre-line;}
    .apply-btn{margin-top:20px;padding:12px 25px;background:#00bfff;border-radius:10px;font-size:20px;text-decoration:none;color:white;}
    .apply-btn:hover{background:#33cfff;}
  </style>
</head>
<body>

  <div class="navbar fade">
    <div class="nav-left">
      <div class="nav-title">banasaba server</div>
      <a href="https://discord.gg/Mz8vqjchQs" target="_blank" class="discord-btn">Discordに参加</a>
    </div>
    <div class="nav-links">
      <a href="index.html">ホーム</a>
      <a href="Rules.html">ルール</a>
      <a href="#about">サーバー紹介</a>
      <a href="mailto:bananeko345@gmail.com">お問い合わせ</a>
    </div>
  </div>

  <!-- 1つ目の背景 -->
  <div class="section section1 fade">
    <h1 style="font-size:50px;">banasaba server</h1>
    <h2>毎日楽しくやろう。</h2>
    <button class="rule-btn" onclick="location.href='Rules.html'">ルールを見る</button>
    <div id="server-info">サーバー: 読み込み中…\n参加人数: …</div>
  </div>

  <!-- 2つ目の背景 -->
  <div class="section section2 fade" id="about">
    <h1>サーバー紹介</h1>
    <p>pvp鯖や、サバイバル鯖がある楽しめるサーバーです！</p>
  </div>

  <!-- 3つ目の背景 -->
  <div class="section section3 fade">
    <h1>メンバー募集</h1>
    <p>Moderator / Admin / Entertainment 募集！</p>
    <a href="https://docs.google.com/forms/d/1IFT1AQ25F0bJluCoKlDmIYY906AC18ea7mLn7ZZjDOQ/edit#responses" target="_blank" class="apply-btn">応募フォームはこちら</a>
  </div>

<script>
  let fakePlayers = 0;

  async function updateServerStatus() {
    const info = document.getElementById('server-info');
    try {
      const response = await fetch('https://mcapi.us/server/status?ip=BANASABA.aternos.me&port=55396');
      const data = await response.json();

      if (data.online) {
        // 擬似人数: オンラインなら1人から始まる
        if(fakePlayers === 0) fakePlayers = 1;
        info.textContent = `サーバー: オンライン\n参加人数: ${fakePlayers}人`;
        info.style.color = "lime";
      } else {
        fakePlayers = 0;
        info.textContent = `サーバー: オフライン\n参加人数: 0人`;
        info.style.color = "red";
      }

    } catch (err) {
      info.textContent = "状態を取得できませんでした";
      info.style.color = "yellow";
    }
  }

  updateServerStatus();
  setInterval(updateServerStatus, 3000);
</script>

</body>
</html>
